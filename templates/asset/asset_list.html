{% extends '_base.html' %}
{% load staticfiles %}

{% block title %}DtOps | 资产列表{% endblock %}
{% block custom_css %}
    <link href="{% static 'css/plugins/dataTables/datatables.min.css' %}" rel="stylesheet">
        <script src="http://libs.baidu.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
     <!-- 弹框详情css -->
  <style>
    .popover-title {
      color: #003366;
      font-weight: bolder;
    }

    .popover {
      background-color: #104E8B;
      color: white;
    }
  </style>
{% endblock %}

{% block content %}
    <div class="row wrapper border-bottom white-bg page-heading">
        <div class="col-lg-10">
            <h2>资产列表</h2>
            <ol class="breadcrumb">
                <li>
                    <a href="../index.html">总览</a>
                </li>
                <li>
                    <a>资产列表</a>
                </li>
                {#                        <li class="active">#}
                {#                            <strong>数据表格</strong>#}
                {#                        </li>#}
            </ol>
        </div>
        <div class="col-lg-2">

        </div>
    </div>

    <div class="ibox-content">
        <div class="" id="content_start">


            <div class="html5buttons">
                <div class="dt-buttons btn-group">
                    <a class="btn btn-default btn_import" data-toggle="modal" data-target="#user_import_modal"
                       tabindex="0">
                        <span>导入</span>
                    </a>
                    <a class="btn btn-default btn_export" tabindex="0">
                        <span>导出</span>
                    </a>
                </div>
            </div>

        </div>

{#        <div class="uc pull-left m-r-5"><a href="{% url 'users:create_user' %}" class="btn btn-sm btn-primary">#}
{#            新建资产 </a></div>#}
     <a class="btn btn-sm btn-default btn-add" data-toggle="modal" data-target="#AddHostModal" data-backdrop='static'>
                    <i class="fa fa-plus"></i> 添加主机
                  </a>
        <div id="user_list_table_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer">
            <div id="uc" class="pull-left"></div>
            <form method="get" action="{% url 'asset:asset_list' %}" class="form-horizontal">
            <div id="user_list_table_filter" class="dataTables_filter">
                <label>搜索</label>
                    <input type="search" class="form-control input-sm" name="search" placeholder="请输入..." aria-controls="user_list_table">

            </div>
            </form>
            <div class="dataTables_length" id="user_list_table_length">
                <label>每页 <select name="user_list_table_length" aria-controls="user_list_table"
                                  class="form-control input-sm">
                    <option value="15">15</option>
                    <option value="25">25</option>
                    <option value="50">50</option>
                    <option value="-1">All</option>
                </select></label></div>
            <table class="table table-striped table-bordered table-hover  dataTable no-footer dataTables-asset">
                <thead>
                <tr role="row">
                    {#            <th class="text-center sorting_disabled" rowspan="1" colspan="1" aria-label="" style="width: 75px;">#}
                    {#                <input id="" type="checkbox" class="ipt_check_all">#}
                    {#            </th>#}
                    <th width="20" class="text-center"><input type="checkbox" id="CheckedAll"></th>
                    <th class="text-center sorting">主机名</th>
                    <th class="text-center sorting">内网IP</th>
                    <th class="text-center sorting">外网IP</th>
                    <th class="text-center sorting">端口</th>
                    <th class="text-center sorting">内存</th>
                         <th class="text-center sorting">磁盘</th>
                         <th class="text-center sorting">CPU核数</th>
                         <th class="text-center sorting">系统版本</th>
                         <th class="text-center sorting">状态</th>
                         <th class="text-center sorting">产品线</th>
                    <th class="text-center sorting">备注</th>
                          <th class="text-center sorting">标签</th>
                          <th class="text-center sorting">云平台</th>
                          <th class="text-center sorting">创建用户</th>

                    {#            <th class="text-center sorting" tabindex="0" aria-controls="user_list_table" rowspan="1" colspan="1" aria-label="激活中: activate to sort column ascending" style="width: 200px;">激活中</th>#}
                    <th class="text-center sorting">动作</th>
                </tr>
                </thead>

                <tbody>
                {% for asset_list in asset_list.object_list %}
                    <tr role="row" class="gradeA" id="{{ asset_list.id }}">

                        {#        <td class=" text-center">#}
                        {#         <input type="checkbox" class="text-center ipt_check" id="{{ user_list.id }}">#}
                        {#        </td>#}
                        <td class=" text-center"><input type="checkbox" value="{{ asset_list.id }}" name="id"></td>
                        <td class=" text-center"><a href="">{{ asset_list.hostname }}</a></td>
                        <td class=" text-center">{{ asset_list.inner_ip }}</td>
                        <td class=" text-center">{{ asset_list.pub_ip|default:'N/A' }}</td>

                        <td class=" text-center">{{ asset_list.port }}</td>
                        <td class=" text-center">{{ asset_list.mem_total|default:'N/A' }}</td>
                            <td class=" text-center">{{ asset_list.disk_total|default:'N/A' }}</td>
                              <td class=" text-center">{{ asset_list.osfinger|default:'N/A' }}</td>
                              <td class=" text-center">{{ asset_list.num_cpus|default:'N/A' }}</td>
                              <td class=" text-center">{{ asset_list.status }}</td>
                              <td class=" text-center">{{ asset_list.product.name|default:'N/A' }}</td>
                              <td class=" text-center">{{ asset_list.detail|default:'N/A' }}</td>
                              <td class=" text-center">{{ asset_list.tag.name|default:'N/A' }}</td>
                              <td class=" text-center">{{ asset_list.cloud_platform.name|default:'N/A' }}</td>
                              <td class=" text-center">{{ asset_list.create_user|default:'N/A' }}</td>



                        <td class=" text-center">
                            <a href="" class="btn btn-xs btn-info">详情</a>
                            <button class="btn btn-xs btn-danger m-l-xs user_del1 del2" id="{{ asset_list.id }}">删除</button>

                            {#              <button class="btn btn-xs btn-danger m-l-xs system_user_del" id="{{ user_list.id }}">删除</button>#}
                        </td>
                    </tr>
                    </tbody>
                    {#    <div class="row m-t"><div class="col-md-8"><div id="op" class="col-md-6">#}
                {% endfor %}
        </div>
    </div>
    {#    <div class="input-group">#}
    {#        <select class="form-control m-b" style="width: auto" id="slct_bulk_update">#}
    {#            <option value="delete">批量删除</option>#}
    {#            <option value="update">批量更新</option>#}
    {#            <option value="deactive">禁用所选</option>#}
    {#            <option value="active">激活所选</option>#}
    {#        </select>#}
    {#        <div class="input-group-btn pull-left" style="padding-left: 5px;">#}
    {#            <button id="btn_bulk_update" style="height: 32px;" class="btn btn-sm btn-primary">#}
    {#             提交#}
    {#            </button>#}
    {#        </div>#}
    {#    </div>#}
    {#</div><div class="col-md-6 text-center"><div class="dataTables_info" id="user_list_table_info" role="status" aria-live="polite">显示第 1 至 1 项结果; 总共 1 项</div></div></div><div class="col-md-4"><div class="dataTables_paginate paging_simple_numbers" id="user_list_table_paginate"><ul class="pagination"><li class="paginate_button previous disabled" id="user_list_table_previous"><a href="#" aria-controls="user_list_table" data-dt-idx="0" tabindex="0">‹</a></li><li class="paginate_button active"><a href="#" aria-controls="user_list_table" data-dt-idx="1" tabindex="0">1</a></li><li class="paginate_button next disabled" id="user_list_table_next"><a href="#" aria-controls="user_list_table" data-dt-idx="2" tabindex="0">›</a></li></ul></div></div></div></div>#}
    {#<div id="actions" class="hide">#}
    {#    <div class="input-group">#}
    {#        <select class="form-control m-b" style="width: auto" id="slct_bulk_update">#}
    {#            <option value="delete">批量删除</option>#}
    {#            <option value="update">批量更新</option>#}
    {#            <option value="deactive">禁用所选</option>#}
    {#            <option value="active">激活所选</option>#}
    {#        </select>#}
    {#        <div class="input-group-btn pull-left" style="padding-left: 5px;">#}
    {#            <button id="btn_bulk_update" style="height: 32px;" class="btn btn-sm btn-primary">#}
    {#             提交#}
    {#            </button>#}
    {#        </div>#}
    {#    </div>#}
    {#</div>#}



    {##}
    {#                    <div class="row">#}
    {#                        <div class="col-sm-4">#}
    {##}
    {#                        </div>#}



    {#<script>#}
    {#    $(document).ready(function () {#}
    {#        $('.page').click(function () {#}
    {#            var searchStr = location.search;#}
    {#            var old_href = $(this).attr('href').replace('?', '');#}
    {#            var searchArray = searchStr.split('&');#}
    {##}
    {#            if (searchStr == '') {#}
    {#                searchStr = '?page=1'#}
    {#            }#}
    {##}
    {#            if (searchStr.indexOf('page') >= 0) {#}
    {#                searchArray.pop();#}
    {#            }#}
    {##}
    {#            searchArray.push(old_href);#}
    {#            if (searchArray.length > 1) {#}
    {#                $(this).attr('href', searchArray.join('&'));#}
    {#            }#}
    {#        })#}
    {#    });#}
    {##}
    {#</script>#}






    {#                <div class="table-responsive">#}
    {#                    <table class="table table-striped table-bordered table-hover dataTables-example" >#}
    {#                    <thead>#}
    {#                    <tr>#}
    {#                        <th>ID</th>#}
    {#                        <th>昵称</th>#}
    {#                        <th>账号</th>#}
    {#                        <th>邮箱</th>#}
    {#                        <th>是否激活</th>#}
    {#                        <th>动作</th>#}
    {##}
    {#                    </tr>#}
    {#                    </thead>#}
    {#                    <tbody>#}
    {#                     {% for user_list in user_list %}#}
    {#                    <tr class="gradeX">#}
    {##}
    {#                        <td>{{ forloop.counter }}</td>#}
    {#                        <td>{{ user_list.nick_name }}</td>#}
    {#                        <td>{{ user_list.username }}</td>#}
    {#                     <td>{{ user_list.email }}</td>#}
    {#                            <td>{%  if user_list.is_active %}是{% else %}否{% endif %} </td>#}
    {#                        <td></td>#}
    {#                        <td class="center">4</td>#}
    {#                        <td class="center">X</td>#}
    {#                                                                <td><a class="btn btn-primary  btn-xs"#}
    {#                                               href="">编辑</a>#}
    {#                                            <button class="btn btn-danger  btn-xs  system_user_del"#}
    {##}
    {#                                                 >删除#}
    {#                                            </button>#}
    {#                                        </td>#}
    {##}
    {#                    </tr>#}
    {#  {% endfor %}#}
    {#                    </tbody>#}
    {#                    </table>#}
    {#                        </div>#}
    {##}
    {#                    </div>#}
    {#                </div>#}
    {#            </div>#}
    {#            </div>#}
    {#        </div>#}

<!-- 添加主机记录 -->
  <div class="modal fade" id="AddHostModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" style="padding-top: 3%; width: 500px;">
      <div class="modal-content">
        <div class="modal-header" style="background-color: #003366; color: white;">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true" style="color: white">&times;</span>
          </button>
          <h4 class="modal-title">添加主机</h4>
        </div>
        <div class="modal-body" style="height: 680px;">
          <form method="post" class="form-horizontal" id="js_addHostForm">
{#            {% for form in form_list %}#}
{##}
{#             <div class="col-sm-7">#}
{#              <div class="form-group">#}
{#                <label class="col-md-4 control-label">{{ form.label_tag  }}</label>#}
{#                <div class="col-md-8">#}
{#                    {{ form.error }}#}
{#                 {{ form }}#}
{#                </div>#}
{#              </div>#}
{#            </div>#}
{#              {% endfor %}#}

{##}
{#            <div class="col-sm-12">#}
{#              <div class="form-group">#}
{#                <label class="col-md-3 control-label">主机名</label>#}
{#                <div class="col-md-8">#}
{#                   {{ form_list.hostname }}#}
{#              </div>#}
{#            </div>#}
{##}
{#            <div class="col-sm-12">#}
{#              <div class="form-group">#}
{#                <label class="col-sm-3 control-label">操作系统</label>#}
{#                <div class="col-sm-8">#}
{#                  <select name="system" class="selectpicker form-control" style="display: none;">#}
{#                    {% for system in systems %}#}
{#                      <option value="{{ system.id }}">{{ system.name }}（{{ system.byte }}位）</option>#}
{#                    {% endfor %}#}
{#                  </select>#}
{#                </div>#}
{#              </div>#}
{#            </div>#}
{##}
            <div class="col-sm-12">
              <div class="form-group">
{#                <label class="col-md-3 col-sm-2 control-label">磁盘（G）</label>#}
{#                <div class="col-md-8 col-xs-3">#}
{#                  <input type="text" name="disk" value="" maxlength="30" class="form-control"#}
{#                         placeholder="输入纯数字的磁盘大小"#}
{#                         required="">#}
{#                </div>#}
{#                  {{ form_list.as_p }}#}
              </div>
            </div>


{##}
{#            <div class="col-sm-12">#}
{#              <div class="form-group">#}
{#                <label class="col-md-3 control-label">内存（G）</label>#}
{#                <div class="col-md-8">#}
{#                  <input type="text" name="memory" value="8" maxlength="20" class="form-control"#}
{#                         placeholder="输入纯数字的内存大小"#}
{#                         required="">#}
{#                </div>#}
{#              </div>#}
{#            </div>#}
{##}
{#            <div class="col-sm-12">#}
{#              <div class="form-group">#}
{#                <label class="col-sm-3 control-label">机房</label>#}
{#                <div class="col-sm-8">#}
{#                  <select name="idc" class="selectpicker form-control" style="display: none;">#}
{#                    {% for idc in idcs %}#}
{#                      <option value="{{ idc.id }}">{{ idc.name }}</option>#}
{#                    {% endfor %}#}
{#                  </select>#}
{#                </div>#}
{#              </div>#}
{#            </div>#}
{##}
{#            <div class="col-sm-12">#}
{#              <div class="form-group">#}
{#                <label class="col-md-3 control-label">项目名称</label>#}
{#                <div class="col-md-8">#}
{#                  <input type="text" name="pro_name" value="" maxlength="20" class="form-control"#}
{#                         placeholder="输入服务器的用途"#}
{#                         required="">#}
{#                </div>#}
{#              </div>#}
{#            </div>#}
{##}
{#            <div class="col-sm-12">#}
{#              <div class="form-group">#}
{#                <label class="col-md-3 control-label">申请人</label>#}
{#                <div class="col-md-8">#}
{#                  <input type="text" name="ask_user" value="" maxlength="20" class="form-control"#}
{#                         placeholder="输入申请服务器的用户"#}
{#                         required="">#}
{#                </div>#}
{#              </div>#}
{#            </div>#}
{##}
{#            <div class="col-sm-12">#}
{#              <div class="form-group">#}
{#                <label class="col-md-3 control-label">登录用户</label>#}
{#                <div class="col-md-8">#}
{#                  <input type="text" name="user_name" value="" maxlength="20" class="form-control"#}
{#                         placeholder="输入服务器登录用户"#}
{#                         required="">#}
{#                </div>#}
{#              </div>#}
{#            </div>#}
{##}
{#            <div class="col-sm-12">#}
{#              <div class="form-group">#}
{#                <label class="col-md-3 control-label">登录密码</label>#}
{#                <div class="col-md-8">#}
{#                  <input type="text" name="pass_word" value="" maxlength="20" class="form-control"#}
{#                         placeholder="输入服务器登录密码"#}
{#                         required="">#}
{#                </div>#}
{#              </div>#}
{#            </div>#}
{##}
{#            <div class="col-sm-12">#}
{#              <div class="form-group">#}
{#                <label class="col-md-3 control-label">远程端口</label>#}
{#                <div class="col-md-8">#}
{#                  <input type="text" name="port" value="22" maxlength="20" class="form-control"#}
{#                         placeholder="输入服务器远程端口，默认22"#}
{#                         required="">#}
{#                </div>#}
{#              </div>#}
{#            </div>#}
{##}
{#            <div class="col-sm-12">#}
{#              <div class="form-group">#}
{#                <label class="col-md-3 control-label">备注</label>#}
{#                <div class="col-md-8">#}
{#                  <textarea class="form-control" name="ps" cols="30" rows="5"#}
{#                            placeholder="输入服务器配置信息，如：JDK，TOMCAT等"></textarea>#}
{#                </div>#}
{#              </div>#}
{#            </div>#}
{##}
{#         #}

          </form>
        </div>
        <div class="modal-footer">
          <input type="button" id="js_addHostBtn"
                 style="width: 100px;height: 25px;line-height: 25px;text-align: center;background: #003366;border: 0;border-radius: 4px;color: white; margin-right: 15px;" class="btn btn-primary"
                 value="保存">
        </div>
      </div>
    </div>
  </div>
     <div class="wrapper wrapper-content  animated fadeInRight">
  <div class="row">
    <div class="col-lg-4">
                    <div class="ibox ">

                        <div class="ibox-content">

                            <div class="text-left">
                              <a class="btn btn-sm btn-default btn-add" data-toggle="modal" data-target="#AddHostModal" data-backdrop='static'>
                    <i class="fa fa-plus"></i> 添加主机
                  </a>
                                </div>
                            <div class="modal inmodal text-center"  id="myModal" tabindex="-1" role="dialog" aria-hidden="true">
                                <div class="modal-dialog">
                                <div class="modal-content animated bounceInRight">
{#                                            <div class="modal-header" style="background-color: #003366; color: white;">#}
{#          <button type="button" class="close" data-dismiss="modal" aria-label="Close">#}
{#            <span aria-hidden="true" style="color: white">&times;</span>#}
{#          </button>#}
{#          <h4 class="modal-title">添加主机</h4>#}
{#        </div>#}

                                         <form method="post" class="form-horizontal" id="js_addHostForm">
                                                 <div class="col-sm-12">
                              <div class="form-group text-center">

                                <div class="col-md-8 col-xs-3">
{#                                 {{ form_list.as_p }}#}
                                </div>
                              </div>
                            </div>
                                         </form>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-white" data-dismiss="modal">关闭</button>
                                            <button type="button" class="btn btn-primary">保存更改</button>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>




                    <div class="ibox float-e-margins">
                        <div class="ibox-title">
                            <h5>可选尺寸</h5>

                        </div>
                        <div class="ibox-content">
                            <p>
                                模态有两个可选的大小，可以通过修饰符类放在一个 <code>.modal-dialog</code>
                            </p>

                            <div class="text-center">
                                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal5">
                                    大模态
                                </button>
                                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal6">
                                    小模态
                                </button>
                            </div>
                            <div class="modal inmodal fade" id="myModal5" tabindex="-1" role="dialog"  aria-hidden="true">
                                <div class="modal-dialog modal-lg">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                                            <h4 class="modal-title">模态标题</h4>
                                            <small class="font-bold">副标题副标题副标题</small>
                                        </div>
                                        <div class="modal-body">
                                            <p><strong>内容测试</strong> 内容测试内容测试内容测试内容测试内容测试内容测试内容测试</p>
                                             <p><strong>内容测试</strong> 内容测试内容测试内容测试内容测试内容测试内容测试内容测试</p>
                                                    <div class="form-group"><label>样品输入</label> <input type="email" placeholder="请输入你的电子邮箱" class="form-control"></div>
                                        </div>

                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-white" data-dismiss="modal">关闭</button>
                                            <button type="button" class="btn btn-primary">保存更改</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal inmodal fade" id="myModal6" tabindex="-1" role="dialog"  aria-hidden="true">
                                <div class="modal-dialog modal-sm">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                                            <h4 class="modal-title">模态标题</h4>
                                        </div>
                                        <div class="modal-body">
                                            <p><strong>内容测试</strong> 内容测试内容测试内容测试内容测试内容测试内容测试内容测试</p>
                                             <p><strong>内容测试</strong> 内容测试内容测试内容测试内容测试内容测试内容测试内容测试</p>
                                                    <div class="form-group"><label>样品输入</label> <input type="email" placeholder="请输入你的电子邮箱" class="form-control"></div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-white" data-dismiss="modal">关闭</button>
                                            <button type="button" class="btn btn-primary">保存更改</button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
  </div>
     </div>




                      <a class="btn btn-sm btn-default btn-add" data-toggle="modal" data-target="#AddHostModal" data-backdrop='static'>
                    <i class="fa fa-plus"></i> 添加主机啊
                  </a>

  <!-- 添加主机记录 -->
  <div class="modal fade" id="AddHostModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" style="padding-top: 3%; width: 500px;">
      <div class="modal-content">

        <div class="modal-header" style="background-color: #003366; color: white;">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true" style="color: white">&times;</span>
          </button>
          <h4 class="modal-title">添加主机</h4>
        </div>

        <div class="modal-body" style="height: 680px;">
          <form method="post" class="form-horizontal" id="js_add333">
            <div class="col-sm-12">
              <div class="form-group">
                <label class="col-md-3 control-label">IP地址</label>
                <div class="col-md-8">
                  <input type="text" name="ip_addr" value="" maxlength="20" class="form-control" placeholder="输入服务器IP地址"
                         required="">
                </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group">
                <label class="col-md-3 control-label">主机名</label>
                <div class="col-md-8">
                  <input type="text" name="server_name" value="" maxlength="20" class="form-control"
                         placeholder="输入服务器主机名"
                         required="">
                </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group">
                <label class="col-sm-3 control-label">操作系统</label>
                <div class="col-sm-8">
                  <select name="system" class="selectpicker form-control" style="display: none;">

                      <option value="1">WINDOWS 7（64位）</option>

                      <option value="2">WINDOWS 8（64位）</option>

                      <option value="3">WINDOWS 10（64位）</option>

                      <option value="4">WINDOWS SERVER 2008（64位）</option>

                      <option value="5">WINDOWS SERVER 2003（64位）</option>

                      <option value="6">WINDOWS SERVER 2012（64位）</option>

                      <option value="9">CENTOS 6（64位）</option>

                      <option value="10">CENTOS 7（64位）</option>

                      <option value="11">REDHAT（64位）</option>

                      <option value="12">UBUNTU（64位）</option>

                      <option value="13">WINDOWS 7（32位）</option>

                      <option value="14">WINDOWS 8（32位）</option>

                      <option value="15">WINDOWS 10（32位）</option>

                      <option value="16">WINDOWS SERVER 2008（32位）</option>

                      <option value="17">WINDOWS SERVER 2003（32位）</option>

                      <option value="18">WINDOWS SERVER 2012（32位）</option>

                      <option value="19">CENTOS 6（32位）</option>

                      <option value="20">CENTOS 7（32位）</option>

                      <option value="21">REDHAT（32位）</option>

                      <option value="22">UBUNTU（32位）</option>

                  </select>
                </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group">
                <label class="col-md-3 control-label">磁盘（G）</label>
                <div class="col-md-8">
                  <input type="text" name="disk" value="50" maxlength="20" class="form-control"
                         placeholder="输入纯数字的磁盘大小"
                         required="">
                </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group">
                <label class="col-md-3 control-label">内存（G）</label>
                <div class="col-md-8">
                  <input type="text" name="memory" value="8" maxlength="20" class="form-control"
                         placeholder="输入纯数字的内存大小"
                         required="">
                </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group">
                <label class="col-sm-3 control-label">机房</label>
                <div class="col-sm-8">
                  <select name="idc" class="selectpicker form-control" style="display: none;">

                      <option value="1">本地机房</option>

                      <option value="2">腾讯云</option>

                      <option value="3">阿里云</option>

                  </select>
                </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group">
                <label class="col-md-3 control-label">项目名称</label>
                <div class="col-md-8">
                  <input type="text" name="pro_name" value="" maxlength="20" class="form-control"
                         placeholder="输入服务器的用途"
                         required="">
                </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group">
                <label class="col-md-3 control-label">申请人</label>
                <div class="col-md-8">
                  <input type="text" name="ask_user" value="" maxlength="20" class="form-control"
                         placeholder="输入申请服务器的用户"
                         required="">
                </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group">
                <label class="col-md-3 control-label">登录用户</label>
                <div class="col-md-8">
                  <input type="text" name="user_name" value="" maxlength="20" class="form-control"
                         placeholder="输入服务器登录用户"
                         required="">
                </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group">
                <label class="col-md-3 control-label">登录密码</label>
                <div class="col-md-8">
                  <input type="text" name="pass_word" value="" maxlength="20" class="form-control"
                         placeholder="输入服务器登录密码"
                         required="">
                </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group">
                <label class="col-md-3 control-label">远程端口</label>
                <div class="col-md-8">
                  <input type="text" name="port" value="22" maxlength="20" class="form-control"
                         placeholder="输入服务器远程端口，默认22"
                         required="">
                </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group">
                <label class="col-md-3 control-label">备注</label>
                <div class="col-md-8">
                  <textarea class="form-control" name="ps" cols="30" rows="5"
                            placeholder="输入服务器配置信息，如：JDK，TOMCAT等"></textarea>
                </div>
              </div>
            </div>

          </form>
        </div>
        <div class="modal-footer">
          <input type="button" id="js_addHostBtn"
                 style="width: 100px;height: 25px;line-height: 25px;text-align: center;background: #003366;border: 0;border-radius: 4px;color: white; margin-right: 15px;"
                 value="保存">
        </div>
      </div>
    </div>
  </div>

{% endblock %}

<!-- Mainly scripts -->

{% block footer_js %}

    <script src="{% static 'js/plugins/dataTables/datatables.min.js' %}"></script>
    <script src="{% static 'js/plugins/iCheck/icheck.min.js' %}"></script>
     <script>
      $(function () {
          // 提交表单
          $('#js_addd2').on('click', function () {
              $.ajax({
                  cache: false,
                  type: "POST",
                  url: "/asset/host/add/",
                  data: $('#js_add333').serialize(),
                  async: true,
                  beforeSend: function (xhr, settings) {
                      // 这里需要csrf_token的值，而不是代码
                      xhr.setRequestHeader("X-CSRFToken", "zuG3T10kGNOzBbMusoQWdM6KcH139AuoRLSoB0TxNGRBaoAr7lEdMLG9oaK8AccN");
                  },
                  success: function (data) {
                      if (data.status == 'success') {
                          window.location.href = "/asset/host/list/";
                          window.alert(data.msg);
                      } else if (data.status == 'fail') {
                          window.alert(data.msg);
                      }
                  }
              });
          });
      })
  </script>

    <script>
        $(document).ready(function () {
            $('.i-checks').iCheck({
                checkboxClass: 'icheckbox_square-green',
                radioClass: 'iradio_square-green',
            });
        });
    </script>
    <script type="text/JavaScript">
        $.ajaxSetup({
            headers: {
                "X-CSRFToken": '{{ csrf_token }}'
            }
        });


        $(document).ready(function () {
            $('.dataTables-asset').DataTable({

                "oLanguage": {
                    "sLengthMenu": "每页显示 _MENU_ 条记录",
                    "sZeroRecords": "对不起，查询不到任何相关数据",
                    "sInfo": "当前显示 _START_ 到 _END_ 条，共 _TOTAL_条记录",
                    "sInfoEmtpy": "找不到相关数据",
                    "sInfoFiltered": " 数据表中共为 _MAX_ 条记录",
                    "sProcessing": "正在加载中...",
                    "sSearch": "搜索",
                    "oPaginate": {
                        "sFirst": "第一页",
                        "sPrevious": " 上一页 ",
                        "sNext": " 下一页 ",
                        "sLast": " 最后一页 "
                    }
                },
                "order": [[1, 'desc']],
                destroy: true,


                bPaginate: false,
                dom: '<"html5buttons"B>lTfgitp,'

            });
        });


    </script>
   <script>
            $(function () {
                $('.user_del1').click(function () {
                    var nid = $(this).attr('id');
{#                        console.log(nid);#}
                    swal({
                        title: "你确定删除",
                        text: "你将无法恢复",
                        type: "warning",
                        showCancelButton: true,
                        confirmButtonColor: "#DD6B55",
                        confirmButtonText: "确定",
                        closeOnConfirm: false
                    }, function () {

                        $.ajax({
                            url: "{% url 'users:user_del'  %}",
                            type: 'POST',
                            data: {'nid': nid },
                            success: function (data) {

                                var obj = JSON.parse(data);
                                if (obj.status) {
                                    swal({title: "删除", text: "已成功删除",imageUrl: "{% static 'img/thumbs-up.jpg' %}"}, function () {
                                        location.href = "{% url "users:user_list" %}"
                                    })

                                } else {
                                    swal("错误", "删除" + "[ " + obj.error + " ]" + "遇到错误", "error");
                                }
                            }
                        });


                    });
                });

            });
        </script>


      <!-- 添加记录提交 -->
  <script>
      $(function () {
          // 提交表单
          $('#js_addHostBtn').on('click', function () {
              $.ajax({
                  cache: false,
                  type: "POST",
                  url: "",
                  data: $('#js_addHostForm').serialize(),
                  async: true,
                  beforeSend: function (xhr, settings) {
                      // 这里需要csrf_token的值，而不是代码
                      xhr.setRequestHeader("X-CSRFToken", "{{ csrf_token }}");
                  },
                  success: function (data) {
                      if (data.status == 'success') {
                          window.location.href = "";
                          window.alert(data.msg);
                      } else if (data.status == 'fail') {
                          window.alert(data.msg);
                      }
                  }
              });
          });
      })
  </script>

{% endblock %}
